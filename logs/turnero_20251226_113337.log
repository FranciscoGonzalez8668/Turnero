2025-12-26 11:33:37,546 [INFO] Log de ejecución: logs/turnero_20251226_113337.log
2025-12-26 11:33:38,129 [INFO] === Intentando sacar turno para usuario: 44.779.763 ===
2025-12-26 11:33:44,274 [INFO] [44.779.763] Se abrió nueva pestaña para el widget: https://www.citaconsular.es/es/hosteds/widgetdefault/2a30ca6f59fb5f176361063c56c79d043
2025-12-26 11:33:44,274 [INFO] [44.779.763] URL tras popup: https://www.citaconsular.es/es/hosteds/widgetdefault/2a30ca6f59fb5f176361063c56c79d043
2025-12-26 11:33:44,274 [INFO] [44.779.763] Frame 0: https://www.citaconsular.es/es/hosteds/widgetdefault/2a30ca6f59fb5f176361063c56c79d043
2025-12-26 11:33:44,662 [INFO] [44.779.763] Click en 'button:has-text('Continue / Continuar')' dentro de page
2025-12-26 11:33:58,728 [INFO] [44.779.763] Click en 'text=Cancelar o consultar mis reservas' dentro de page
2025-12-26 11:34:00,613 [INFO] [44.779.763] Fill 'input[placeholder*='DNI']' en frame https://www.citaconsular.es/es/hosteds/widgetdefault/2a30ca6f59fb5f176361063c56c79d043/#signinaccount
2025-12-26 11:34:00,664 [INFO] [44.779.763] Fill '#idIptBktAccountLoginpassword' en frame https://www.citaconsular.es/es/hosteds/widgetdefault/2a30ca6f59fb5f176361063c56c79d043/#signinaccount
2025-12-26 11:34:00,706 [INFO] [44.779.763] Click en '#idBktDefaultAccountLoginConfirmButton' dentro de page
2025-12-26 11:34:13,738 [INFO] [44.779.763] Click en '#idBktDefaultAccountHistoryContainer .clsDivSubHeaderBackButton' dentro de page
2025-12-26 11:34:13,771 [ERROR] [44.779.763] Error buscando tabla/servicio: Page.query_selector_all: selector: expected string, got object
Traceback (most recent call last):
  File "/home/okamito/Develop/Turnero/booking.py", line 49, in _esperar_turnos_disponibles
    if page.query_selector_all(config.SELECTORES["servicio_card"]):
       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/okamito/Develop/Turnero/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py", line 8111, in query_selector_all
    self._sync(self._impl_obj.query_selector_all(selector=selector))
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/okamito/Develop/Turnero/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "/home/okamito/Develop/Turnero/.venv/lib/python3.13/site-packages/playwright/_impl/_page.py", line 413, in query_selector_all
    return await self._main_frame.query_selector_all(selector)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/okamito/Develop/Turnero/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py", line 355, in query_selector_all
    await self._channel.send(
    ^^^^^^^^^^^^^^^^^^^^^^^^^
        "querySelectorAll", None, dict(selector=selector)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ),
    ^
  File "/home/okamito/Develop/Turnero/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/okamito/Develop/Turnero/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 559, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: Page.query_selector_all: selector: expected string, got object
2025-12-26 11:34:13,783 [INFO] [44.779.763] Sin turnos. Esperando 30s antes de reintentar (intento 1/50)
